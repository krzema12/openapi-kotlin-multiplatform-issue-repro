# openapi-kotlin-multiplatform-issue-repro
Reproduces an issue found in OpenAPI

To reproduce, just run `./gradlew run`. On my machine, this is shown in the console:

```
$ ./gradlew run                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                              
> Configure project :generated-client                                                                                                                                                                                                                                                                                                                                         
Kotlin Multiplatform Projects are an experimental feature.                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                              
Some Kotlin/Native targets cannot be built on this linux_x64 machine and are disabled:                                                                                                                                                                                                                                                                                        
    * In project ':':                                                                                                                                                                                                                                                                                                                                                         
        * targets 'iosArm64', 'iosX64' (can be built with a macos_x64 host)                                                                                                                                                                                                                                                                                                   
To hide this message, add 'kotlin.native.ignoreDisabledTargets=true' to the Gradle properties.                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                              
> Task :backend:run FAILED                                                                                                                                                                                                                                                                                                                                                    
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".                                                                                                                                                                                                                                                                                                              
SLF4J: Defaulting to no-operation (NOP) logger implementation                                                                                                                                                                                                                                                                                                                 
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.                                                                                                                                                                                                                                                                                            
Exception in thread "main" java.lang.reflect.InvocationTargetException                                                                                                                                                                                                                                                                                                        
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)                                                                                                                                                                                                                                                                                     
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)                                                                                                                                                                                                                                                                   
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)                                                                                                                                                                                                                                                           
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)                                                                                                                                                                                                                                                                                                         
        at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)                                                                                                                                                                                                                                                                                   
        at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Static.call(CallerImpl.kt:106)                                                                                                                                                                                                                                                                                 
        at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108)                                                                                                                                                                                                                                                                                               
        at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159)                                                                                                                                                                                                                                                                
        at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)                                                                                                                                                                                                                                                                                             
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.callFunctionWithInjection(ApplicationEngineEnvironmentReloading.kt:406)                                                                                                                                                                                                                                
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.executeModuleFunction(ApplicationEngineEnvironmentReloading.kt:360)                                                                                                                                                                                                                                    
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$executeModuleFunction(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                                              
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:311)                                                                                                                                                                                                                              
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                                               
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartupFor(ApplicationEngineEnvironmentReloading.kt:335)                                                                                                                                                                                                                                 
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.launchModuleByName(ApplicationEngineEnvironmentReloading.kt:310)                                                                                                                                                                                                                                       
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$launchModuleByName(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                                                 
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:299)                                                                                                                                                                                                              
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                               
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartup(ApplicationEngineEnvironmentReloading.kt:317)                                                                                                                                                                                                                                    
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.instantiateAndConfigureApplication(ApplicationEngineEnvironmentReloading.kt:297)                                                                                                                                                                                                                       
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.createApplication(ApplicationEngineEnvironmentReloading.kt:138)                                                                                                                                                                                                                                        
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.start(ApplicationEngineEnvironmentReloading.kt:270)                                                                                                                                                                                                                                                    
        at io.ktor.server.cio.CIOApplicationEngine$serverJob$1$2.invokeSuspend(CIOApplicationEngine.kt:62)                                                                                                                                                                                                                                                                    
        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)                                                                                      
        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)                                                                                                                
        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)                                                                                       
        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)                                                                                                                                                                                                                                                                     
        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)                                                                                                                                                                                                                                                                       
        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)                                                                                      
Caused by: java.lang.NoSuchMethodError: 'kotlinx.serialization.json.Json kotlinx.serialization.json.JsonKt.Json$default(kotlinx.serialization.json.Json, kotlin.jvm.functions.Function1, int, java.lang.Object)'                                                                                                                                                              
        at io.ktor.serialization.JsonSupportKt.<clinit>(JsonSupport.kt:29)                                                                                                             
        at ExampleApplicationKt$module$1.invoke(ExampleApplication.kt:10)                                                                                                              
        at ExampleApplicationKt$module$1.invoke(ExampleApplication.kt:9)                                                                                                               
        at io.ktor.features.ContentNegotiation$Feature.install(ContentNegotiation.kt:104)                                                                                              
        at io.ktor.features.ContentNegotiation$Feature.install(ContentNegotiation.kt:97)                                                                                               
        at io.ktor.application.ApplicationFeatureKt.install(ApplicationFeature.kt:68)                                                                                                  
        at ExampleApplicationKt.module(ExampleApplication.kt:9)                                                                                                                        
        ... 30 more                                                                        
Exception in thread "DefaultDispatcher-worker-1" java.lang.reflect.InvocationTargetException                                 
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)                                                                                              
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)                                                                                                                                                                                                                                                                   
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)                                                                                                                                                                                                                                                           
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)                                                                                                                  
        at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)                                                                                            
        at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Static.call(CallerImpl.kt:106)                                                                                          
        at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108)                                                                                                        
        at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159)                                                                                                                                                                                                                                                                
        at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112)                                                                                                      
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.callFunctionWithInjection(ApplicationEngineEnvironmentReloading.kt:406)                                                                                                                                                                                                                                
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.executeModuleFunction(ApplicationEngineEnvironmentReloading.kt:360)                                                                                                                                                                                                                                    
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$executeModuleFunction(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                                              
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:311)                                                                                                                                                                                                                              
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$launchModuleByName$1.invoke(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                                               
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartupFor(ApplicationEngineEnvironmentReloading.kt:335)                                                                                                                                                                                                                                 
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.launchModuleByName(ApplicationEngineEnvironmentReloading.kt:310)                                                                                                                                                                                                                                       
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.access$launchModuleByName(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                                                 
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:299)                                                                                                                                                                                                              
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading$instantiateAndConfigureApplication$1.invoke(ApplicationEngineEnvironmentReloading.kt:35)                                                                                                                                                                                                               
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.avoidingDoubleStartup(ApplicationEngineEnvironmentReloading.kt:317)                                                                                                                                                                                                                                    
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.instantiateAndConfigureApplication(ApplicationEngineEnvironmentReloading.kt:297)                                                                                                                                                                                                                       
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.createApplication(ApplicationEngineEnvironmentReloading.kt:138)                                                                                                                                                                                                                                        
        at io.ktor.server.engine.ApplicationEngineEnvironmentReloading.start(ApplicationEngineEnvironmentReloading.kt:270)                                                                                                                                                                                                                                                    
        at io.ktor.server.cio.CIOApplicationEngine$serverJob$1$2.invokeSuspend(CIOApplicationEngine.kt:62)                                                                                                                                                                                                                                                                    
        at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)                                                                                      
        at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)                                                                                                                
        at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:571)                                                                                       
        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)                                                                                                                                                                                                                                                                     
        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:678)                                                                                                                                                                                                                                                                       
        at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:665)                                                                                      
Caused by: java.lang.NoSuchMethodError: 'kotlinx.serialization.json.Json kotlinx.serialization.json.JsonKt.Json$default(kotlinx.serialization.json.Json, kotlin.jvm.functions.Function1, int, java.lang.Object)'                                                                                                                                                              
        at io.ktor.serialization.JsonSupportKt.<clinit>(JsonSupport.kt:29)                                                                                                             
        at ExampleApplicationKt$module$1.invoke(ExampleApplication.kt:10)                                                                                                              
        at ExampleApplicationKt$module$1.invoke(ExampleApplication.kt:9)                                                                                                               
        at io.ktor.features.ContentNegotiation$Feature.install(ContentNegotiation.kt:104)                                                                                              
        at io.ktor.features.ContentNegotiation$Feature.install(ContentNegotiation.kt:97)                                                                                               
        at io.ktor.application.ApplicationFeatureKt.install(ApplicationFeature.kt:68)                                                                                                  
        at ExampleApplicationKt.module(ExampleApplication.kt:9)                                                                                                                        
        ... 30 more                                                                        
```
